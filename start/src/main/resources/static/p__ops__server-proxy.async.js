"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[221],{66032:function(xe,$,r){r.r($),r.d($,{default:function(){return ae}});var w=r(13448),c=r.n(w),J=r(74815),B=r.n(J),K=r(77117),g=r.n(K),M=r(28152),p=r.n(M),y=r(93236),k=r(30189),C=r(75427),a=r(67801),V=r(93034),Q=r(95020),h=r(31756),f=r(53330),W=r(23817),X=r(56425),Y=r(51593),O=r(32882),q=r(35432),e=r(62086),L=C.Z.Option,_=function(l){var d=l.initialValues,I=l.onSave,A=l.onCancel,H=l.onUpdate,P=a.Z.useForm(),x=p()(P,1),v=x[0];y.useEffect(function(){v.setFieldsValue(d)},[v,d]);var D=function(){var S=B()(c()().mark(function E(){var m;return c()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,v.validateFields();case 3:m=u.sent,d?H(m):I(m),u.next=10;break;case 7:u.prev=7,u.t0=u.catch(0),console.error("\u8868\u5355\u9A8C\u8BC1\u5931\u8D25:",u.t0);case 10:case"end":return u.stop()}},E,null,[[0,7]])}));return function(){return S.apply(this,arguments)}}();return(0,e.jsxs)(a.Z,{form:v,layout:"vertical",onFinish:D,children:[(0,e.jsx)(a.Z.Item,{name:"proxyHost",label:"\u4EE3\u7406\u4E3B\u673A",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EE3\u7406\u4E3B\u673A"}],children:(0,e.jsx)(h.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EE3\u7406\u4E3B\u673A"})}),(0,e.jsx)(a.Z.Item,{name:"proxyPort",label:"\u4EE3\u7406\u7AEF\u53E3",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EE3\u7406\u7AEF\u53E3"}],children:(0,e.jsx)(h.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EE3\u7406\u7AEF\u53E3",type:"number"})}),(0,e.jsx)(a.Z.Item,{name:"proxyType",label:"\u4EE3\u7406\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4EE3\u7406\u7C7B\u578B"}],children:(0,e.jsxs)(C.Z,{placeholder:"\u8BF7\u9009\u62E9\u4EE3\u7406\u7C7B\u578B",children:[(0,e.jsx)(L,{value:1,children:"HTTP"}),(0,e.jsx)(L,{value:2,children:"HTTPS"})]})}),(0,e.jsx)(a.Z.Item,{name:"proxyUsername",label:"\u4EE3\u7406\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EE3\u7406\u7528\u6237\u540D"}],children:(0,e.jsx)(h.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EE3\u7406\u7528\u6237\u540D"})}),(0,e.jsx)(a.Z.Item,{name:"proxyPassword",label:"\u4EE3\u7406\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4EE3\u7406\u5BC6\u7801"}],children:(0,e.jsx)(h.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u4EE3\u7406\u5BC6\u7801"})}),(0,e.jsx)(a.Z.Item,{name:"description",label:"\u63CF\u8FF0",rules:[{required:!1,max:30,message:"\u8BF7\u8F93\u5165\u4E0D\u8D85\u8FC730\u4E2A\u5B57\u7B26\u7684\u63CF\u8FF0"}],children:(0,e.jsx)(q.Z,{placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0",rows:4})}),(0,e.jsxs)(a.Z.Item,{children:[(0,e.jsxs)(f.Z,{type:"primary",htmlType:"submit",children:[d?"\u66F4\u65B0":"\u4FDD\u5B58"," "]}),(0,e.jsx)(f.Z,{onClick:A,style:{marginLeft:8},children:"\u53D6\u6D88"})]})]})},ee=_,N=C.Z.Option,re=function(l){var d=l.dispatch,I=l.proxies,A=l.total,H=(0,y.useState)({pageNo:1,pageSize:10}),P=p()(H,2),x=P[0],v=P[1],D=(0,y.useState)({proxyHost:"",proxyType:void 0,proxyUsername:void 0}),S=p()(D,2),E=S[0],m=S[1],R=(0,y.useState)(!1),u=p()(R,2),ne=u[0],F=u[1],ue=a.Z.useForm(),te=p()(ue,1),U=te[0],se=(0,y.useState)(void 0),b=p()(se,2),j=b[0],le=b[1];(0,y.useEffect)(function(){z()},[x,E]);var z=function(){d({type:"proxy/queryProxies",payload:g()(g()({},x),E)})},ie=function(n){le(n),F(!0)},oe=function(n){d({type:"proxy/deleteProxy",payload:{serverProxyId:n}})},de=function(n,s){v({pageNo:n,pageSize:s||10})},ce=function(){F(!0)},G=function(){F(!1),U.resetFields()},pe=function(){var t=B()(c()().mark(function n(s){return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,O.DM)(s);case 3:z(),F(!1),U.resetFields(),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),console.error("\u521B\u5EFA\u4E3B\u673A\u4EE3\u7406\u5931\u8D25:",i.t0);case 11:case"end":return i.stop()}},n,null,[[0,8]])}));return function(s){return t.apply(this,arguments)}}(),ye=function(){var t=B()(c()().mark(function n(s){var Z;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,Z=j==null?void 0:j.id,o.next=4,(0,O.Jc)(g()(g()({},s),{},{id:Z}));case 4:z(),F(!1),U.resetFields(),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(0),console.error("\u66F4\u65B0\u4E3B\u673A\u4EE3\u7406\u5931\u8D25:",o.t0);case 12:case"end":return o.stop()}},n,null,[[0,9]])}));return function(s){return t.apply(this,arguments)}}(),he=[{title:"\u4EE3\u7406\u4E3B\u673A",dataIndex:"proxyHost",key:"proxyHost"},{title:"\u4EE3\u7406\u7AEF\u53E3",dataIndex:"proxyPort",key:"proxyPort"},{title:"\u4EE3\u7406\u7528\u6237",dataIndex:"proxyUsername",key:"proxyUsername"},{title:"\u4EE3\u7406\u7C7B\u578B",dataIndex:"proxyType",key:"proxyType",render:function(n,s){return s.proxyType===1?"HTTP":"HTTPS"}},{title:"\u64CD\u4F5C",key:"action",render:function(n,s){return(0,e.jsxs)(V.Z,{size:"middle",children:[(0,e.jsx)("a",{onClick:function(){return ie(s)},children:"\u7F16\u8F91"}),(0,e.jsx)("a",{onClick:function(){return oe(s.id)},children:"\u5220\u9664"})]})}}];return(0,e.jsxs)(k._z,{title:"\u4E3B\u673A\u4EE3\u7406",children:[(0,e.jsx)(Q.Z,{children:(0,e.jsxs)(V.Z,{size:"middle",direction:"vertical",style:{width:"100%"},children:[(0,e.jsxs)(a.Z,{layout:"inline",onFinish:function(n){m(n)},children:[(0,e.jsx)(a.Z.Item,{name:"proxyHost",label:"\u4EE3\u7406\u4E3B\u673A",children:(0,e.jsx)(h.Z,{placeholder:"\u8BF7\u8F93\u5165\u4EE3\u7406\u4E3B\u673A"})}),(0,e.jsx)(a.Z.Item,{name:"proxyUsername",label:"\u4EE3\u7406\u7528\u6237",children:(0,e.jsx)(h.Z,{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237"})}),(0,e.jsx)(a.Z.Item,{name:"proxyType",label:"\u4EE3\u7406\u7C7B\u578B",children:(0,e.jsxs)(C.Z,{placeholder:"\u8BF7\u9009\u62E9\u4EE3\u7406\u7C7B\u578B",style:{width:150},allowClear:!0,children:[(0,e.jsx)(N,{value:1,children:"HTTP"}),(0,e.jsx)(N,{value:2,children:"HTTPS"})]})}),(0,e.jsxs)(a.Z.Item,{children:[(0,e.jsx)(f.Z,{type:"primary",htmlType:"submit",style:{marginRight:8},children:"\u67E5\u8BE2"}),(0,e.jsx)(f.Z,{onClick:function(){m({proxyHost:"",proxyType:void 0,proxyUsername:void 0})},children:"\u91CD\u7F6E"})]})]}),(0,e.jsx)(f.Z,{type:"primary",onClick:ce,children:"\u65B0\u589E\u4EE3\u7406"}),(0,e.jsx)(W.Z,{columns:he,dataSource:I,rowKey:"id",pagination:{total:A,current:x.pageNo,pageSize:x.pageSize,onChange:de}})]})}),(0,e.jsx)(X.Z,{title:j?"\u7F16\u8F91\u4EE3\u7406":"\u65B0\u589E\u4EE3\u7406",width:400,open:ne,onClose:G,destroyOnClose:!0,children:(0,e.jsx)(ee,{initialValues:j,onSave:pe,onCancel:G,onUpdate:ye})})]})},ae=(0,Y.connect)(function(T){var l=T.proxy;return{proxies:l.proxies,total:l.total}})(re)}}]);
